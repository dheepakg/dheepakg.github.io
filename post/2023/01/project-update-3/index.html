<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Project Update - 3 - Dheepak's blog</title><meta name=description content="Some helpful accessories - tech specs"><meta name=author content="Dheepak"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Dheepak\u0027s blog","url":"https:\/\/dheepakg.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/dheepakg.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/dheepakg.github.io\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/dheepakg.github.io\/post\/2023\/01\/project-update-3\/","name":"Project update 3"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Dheepak"},"headline":"Project Update - 3","description":"This is continuation in the series about our side project. This post is a follow up to the pervious post on various tools used to build the process of building the application\nThe Environment Core language used in our project is Python. Python is used to fetch details from API calls, cleaning the API return value, and also writing it into DB. Even though the language is very popular and user ranges from amateurs to big corporations, it undergoes development.","inLanguage":"en","wordCount":619,"datePublished":"2023-01-29T12:22:00","dateModified":"2023-01-29T12:22:00","image":"https:\/\/dheepakg.github.io\/","keywords":["specifications, code snippets"],"mainEntityOfPage":"https:\/\/dheepakg.github.io\/post\/2023\/01\/project-update-3\/","publisher":{"@type":"Organization","name":"https:\/\/dheepakg.github.io\/","logo":{"@type":"ImageObject","url":"https:\/\/dheepakg.github.io\/","height":60,"width":60}}}</script><meta property="og:title" content="Project Update - 3"><meta property="og:description" content="Some helpful accessories - tech specs"><meta property="og:url" content="https://dheepakg.github.io/post/2023/01/project-update-3/"><meta property="og:type" content="website"><meta property="og:site_name" content="Dheepak's blog"><meta name=twitter:title content="Project Update - 3"><meta name=twitter:description content="Some helpful accessories - tech specs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dheeepakg"><meta name=twitter:creator content="@dheeepakg"><link href=https://dheepakg.github.io/favicon/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.83.1"><link rel=alternate href=https://dheepakg.github.io/index.xml type=application/rss+xml title="Dheepak's blog"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://dheepakg.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://dheepakg.github.io/css/highlight.min.css><link rel=stylesheet href=https://dheepakg.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://dheepakg.github.io/>Dheepak's blog</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li class=navlinks-container><a class=navlinks-parent>Archive</a><div class=navlinks-children><a href=https://dheepakg.github.io/categories>Category</a>
<a href=https://dheepakg.github.io/tags>Tags</a>
<a href=https://dheepakg.github.io/year/>Year</a></div></li><li><a title=Meta href=https://dheepakg.github.io/whoami/>Meta</a></li><li><a title=Notes href=https://dheepakg.github.io/reads/>Notes</a></li><li><a title="Visual Sitemap" href=https://dheepakg.github.io/visual-sitemap/>Visual Sitemap</a></li></ul></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Project Update - 3</h1><h2 class=post-subheading>Some helpful accessories - tech specs</h2><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;January 29, 2023
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;619&nbsp;words &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Dheepak</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><div class=blog-series>This post is part of <em>Series</em> -
<a href=https://dheepakg.github.io/series/portfolio-management>Portfolio Management</a><br></div><p>This is continuation in the series about our side project. This post is a follow up to the pervious <a href=post-055-2023-01-22-pf-dashboard-2.md>post on various tools</a> used to build the process of building the application</p><h3 id=the-environment>The Environment</h3><p>Core language used in our project is Python. Python is used to fetch details from API calls, cleaning the API return value, and also writing it into DB. Even though the language is very popular and user ranges from amateurs to big corporations, it undergoes development. Implying the new versions are created and released often. And so, setting up the environment is necessary.</p><p>During the start of the project, the Python 3.11 was newly released. So, its decided to use 3.9 as it is 2 versions earlier to then latest, as this will be more stable and less of breaking changes. However, the 3.11 seems to be the best version yet. Once the basic features are built and tested, we can move into 3.11.</p><table><thead><tr><th>Python</th><th>3.9.15</th></tr></thead><tbody><tr><td><strong>conda</strong></td><td><strong>4.8.0</strong></td></tr></tbody></table><p><a href=https://github.com/dheepakg/pf-dashboard/blob/bf9651260373b7cf8efb5b2102927286d63b8102/env-pf-dashboard-3.9.yml>Here</a> is the yaml file for initializing the Conda environment.</p><h3 id=pre-commit>Pre-commit</h3><table><thead><tr><th>Pre-commit</th><th>2.20.0</th></tr></thead></table><p>The Pre-commit gets driven by the precommit config file. This file holds the list of checks to be performed.</p><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>repos:
-   repo: https://github.com/psf/black
    rev: 22.12.0
    hooks:
    - id: black
      language_version: python3.9
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
    - id: trailing-whitespace
    - id: end-of-file-fixer
    - id: check-toml
    - id: check-added-large-files
    - id: check-case-conflict
    # - id: detect-aws-credentials
    - id: detect-private-key
    - id: no-commit-to-branch
-   repo: https://github.com/asottile/reorder_python_imports
    rev: v3.9.0
    hooks:
    -   id: reorder-python-imports

</code></pre></div><h3 id=pytest>Pytest</h3><p>The project has almost 10k stars, forked 2.3k times. This is enough to understand the popularity of the module. Eventhough <em>unittest</em> comes with the Python installation, Pytest has several advantages over it.</p><p>For me to chose pytest over unittest has 2 main reasons - 1. plugins and 2. its simplicity (single <code>assert</code> to rule them all).</p><table><thead><tr><th>pytest</th><th>7.2.0</th></tr></thead></table><h4 id=plugins>Plugins</h4><p>It would be unfair if we are not using the plugins or not mentioning their usage.</p><ol><li><code>pytest-clarity</code> - as per the name, the error message carries better clarity</li><li><code>pytest-sugar</code> - shows the progress bar against the tests</li></ol><h3 id=code-coverage>Code Coverage</h3><p><a href=https://coverage.readthedocs.io/en/7.2.1/>Coverage.py</a> is the Python code coverage tool that we use.</p><p><code>coverage</code> is used along side <code>pytest</code> to generate the coverage report</p><div class=highlight><pre class=chroma><code class=language-Python data-lang=Python><span class=n>coverage</span> <span class=n>run</span> <span class=o>-</span><span class=n>m</span> <span class=n>pytest</span><span class=p>;</span> <span class=n>coverage</span> <span class=n>report</span><span class=p>;</span> <span class=n>coverage</span> <span class=n>html</span>
</code></pre></div><p><code>coverage run -m pytest</code> → This runs the pytest and fetches coverage</p><p><code>coverage report</code> → Report coverage stats on modules.</p><p><code>coverage html</code> → Create an HTML report</p><table><thead><tr><th>coverage.py</th><th>7.0.1</th></tr></thead></table><p>Once the coverage report is ready, we pass the report to <a href=https://codecov.io/github/dheepakg/pf-dashboard>codecov.io</a> for badge creation.</p><h3 id=github-actions>Github Actions</h3><p>The GH actions is our CI tool. With every push and merger of pull request, the below events gets triggred</p><ol><li>Python 3.9 is created with modules declared in the <a href=https://github.com/dheepakg/pf-dashboard/blob/main/requirements.txt>requirements.txt</a>.</li><li>Also, pytest and its dependencies are installed in the environment.</li><li>Execution of code coverage.</li></ol><div class=highlight><pre class=chroma><code class=language-fallback data-lang=fallback>name: Workflow for Codecov example-python
on: [push, pull_request]
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Set up Python 3.9
        uses: actions/setup-python@v2
        with:
          python-version: &#39;3.9&#39;
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install pytest
          pip install pytest-cov
          pip install coverage
      - name: Run tests and collect coverage
        run: |
          coverage run -m pytest
          coverage report
      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
</code></pre></div><h3 id=branching>Branching</h3><p>During the development, the <code>main</code> is left undisturbed. Instead a new branch is created for new changes. Once the code residing in new branch is tested, code coverage verified, PR needs to be raised and merged to main branch.</p><ul><li>This ensures mistaken commits into main branch.</li><li>Usage of non-main branch is enforced by Pre-commit.</li></ul><p>The advantage of this post is that above mentioned code and process can be reused to other projects. This more or less acts as a template for future projects.</p><div class=blog-tags><a href=https://dheepakg.github.io//tags/specifications/>specifications</a>&nbsp;
<a href=https://dheepakg.github.io//tags/code-snippets/>code snippets</a>&nbsp;</div><div id=mini-bio><h4>Page source</h4><p>Page last updated on: 2023-07-30 23:07:19 +0530 +0530</br>Git commit:
<a href=https://github.com/dheepakg/static-site/commit/88352708211a4f19d383028df8c52999584532aa>8835270</a></p></div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f&text=Project%20Update%20-%203&via=dheeepakg" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f&title=Project%20Update%20-%203" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f&title=Project%20Update%20-%203" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f&title=Project%20Update%20-%203" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fdheepakg.github.io%2fpost%2f2023%2f01%2fproject-update-3%2f&description=Project%20Update%20-%203" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=https://dheepakg.github.io/post/2023/01/project-update-2/ data-toggle=tooltip data-placement=top title="Project Update - 2">&larr; Previous Post</a></li><li class=next><a href=https://dheepakg.github.io/post/2023/02/osmosis-irl/ data-toggle=tooltip data-placement=top title="Osmosis IRL">Next Post &rarr;</a></li></ul><div class=staticman-comments><script src=https://utteranc.es/client.js repo=dheepakg/dheepakg.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></div></div></div></div><style>.blog-series{background-color:#eee;border-style:outset;width:60%;border-color:#eee}</style><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=https://github.com/dheepakg title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/dheeepakg title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://telegram.me/dheeepak title=Telegram><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-telegram fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://codepen.io/dheepak_g title=CodePen><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-codepen fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://dheepakg.github.io/>Dheepak</a>
&nbsp;&bull;&nbsp;&copy;
2023
&nbsp;&bull;&nbsp;
<a href=https://dheepakg.github.io/>Dheepak's blog</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.83.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=false88352708211a4f19d383028df8c52999584532aa>88352708</a>]</p></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-3.5.1.slim.min.js integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://dheepakg.github.io/js/main.js></script><script src=https://dheepakg.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://dheepakg.github.io/js/load-photoswipe.js></script></body></html>